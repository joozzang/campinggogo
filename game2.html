<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CAMPING !</title>
    <link rel="icon" href="./favicon.ico" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      @font-face {
        font-family: "CookieRun-Regular";
        src: url("https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/CookieRun-Regular.woff")
          format("woff");
        font-weight: normal;
        font-style: normal;
      }
      body {
        font-family: "CookieRun-Regular";
        background: linear-gradient(135deg, #2c64ff, #759aff);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
      }

      .word-display {
        font-size: 8rem;
        font-weight: bold;
        margin-bottom: 50px;
        padding: 80px;
        background-color: #eef3ff;
        border-radius: 20px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        min-width: 400px;
        text-align: center;
      }

      /* Ïà´Ïûê ÏÑ†ÌÉù Î≤ÑÌäº Î™®Ïñë */
      .number-button {
        font-size: 3rem;
        padding: 35px 80px;
        margin: 0 10px 40px 10px;
        border-radius: 10px;
        border: none;
        background-color: #1976d2;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .number-button:hover {
        background-color: #115293;
      }

      .next-button,
      .restart-button {
        position: fixed;
        bottom: 15px;
        right: 20px;
        border-radius: 15px;
        padding: 20px 30px;
        font-size: 2rem;
        background-color: #fff;
        color: gray;
        border: none;
        cursor: pointer;
      }
      .next-button:hover,
      .restart-button:hover {
        background-color: #ddd;
      }

      .home-button {
        position: fixed;
        bottom: 15px;
        left: 20px;
        padding: 10px 20px;
        font-size: 3rem;
        background-color: #fff;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        text-decoration: none;
      }
      .home-button:hover {
        background-color: #1976d2;
        color: white;
      }

      /* Ïà´Ïûê Î≤ÑÌäº Ïª®ÌÖåÏù¥ÎÑà */
      #numberButtons {
        display: flex;
        justify-content: center;
        margin-bottom: 40px;
      }
    </style>
  </head>
  <body>
    <a href="start.html" class="home-button">üè†</a>

    <div id="numberButtons">
      <button class="number-button" onclick="startGame(3)">3</button>
      <button class="number-button" onclick="startGame(5)">5</button>
      <button class="number-button" onclick="startGame(7)">7</button>
      <button class="number-button" onclick="startGame(10)">10</button>
    </div>

    <div class="word-display" id="wordDisplay"></div>

    <button
      id="nextBtn"
      class="next-button"
      onclick="showNextWord()"
      style="display: none"
    >
      ‚ñ∂Ô∏é
    </button>
    <button
      id="restartBtn"
      class="restart-button"
      onclick="restartGame()"
      style="display: none"
    >
      ‚≠êÔ∏è
    </button>

    <script>
      const wordList = [
        "ÎèÑÏõêÍ≤∞Ïùò",
        "ÏπòÏ¶àÎ≤ÑÍ±∞",
        "ÎàÑÎÑ§Îù†ÎÑ§",
        "Ïñ¥Ïû•Í¥ÄÎ¶¨",
        "Ïπ¥ÌéòÎ≤†ÎÑ§",
        "Î∏åÎ°úÏΩúÎ¶¨",
        "Ï¥àÏΩîÌååÏù¥",
        "ÎêúÏû•Ï∞åÍ∞ú",
        "ÏÇºÍ∞ÅÍπÄÎ∞•",
        "ÏÑúÏö∏ÌäπÎ≥ÑÏãú",
        "Ìò∏ÎûëÎÇòÎπÑ",
        "Í∞úÎØ∏Ìï•Í∏∞",
        "ÌòÑÏû•ÌïôÏäµ",
        "Ïã†Ïö©Ïπ¥Îìú",
        "ÎßàÏöîÎÑ§Ï¶à",
        "ÌîåÎùºÎ∞çÍ≥†",
        "Îî±Îî∞Íµ¨Î¶¨",
        "Í∞êÏûêÌäÄÍπÄ",
        "ÏóÖÎç∞Ïù¥Ìä∏",
        "ÎπÑÌä∏ÏΩîÏù∏",
        "ÏïÑÏù¥Ïä§ÌÅ¨Î¶º",
        "Î∞îÎÇòÎÇòÌÇ•",
        "ÌïòÏôÄÏù¥Ïïà",
        "Îî∏Í∏∞Ïö∞Ïú†",
        "Î†àÎ™¨ÏóêÏù¥Îìú",
      ];

      let selectedCount = 0;
      let currentIndex = 0;
      let currentRound = 0;
      const maxRounds = 3;

      let remainingIndexes = [];
      let currentRoundWords = [];

      const wordDisplay = document.getElementById("wordDisplay");
      const nextBtn = document.getElementById("nextBtn");
      const restartBtn = document.getElementById("restartBtn");
      const numberButtons = document.getElementById("numberButtons");

      // Ï≤òÏùåÏóî Ïà´Ïûê Î≤ÑÌäºÎßå Î≥¥Ïù¥Í≥†, ÌÖçÏä§Ìä∏Îäî Îπà ÏÉÅÌÉú
      wordDisplay.textContent = "";

      // Î∞∞Ïó¥ ÏÑûÍ∏∞ Ìï®Ïàò
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
      }

      function startGame(count) {
        selectedCount = count;
        currentIndex = 0;
        currentRound = 0;

        remainingIndexes = [];
        for (let i = 0; i < wordList.length; i++) {
          remainingIndexes.push(i);
        }
        shuffleArray(remainingIndexes);

        numberButtons.style.display = "none";
        nextBtn.style.display = "inline-block";
        restartBtn.style.display = "none";

        wordDisplay.textContent = "ÏãúÏûëÌï¥Î≥ºÍπå?";
      }
      function showNextWord() {
        // Ï≤´ ÌÅ¥Î¶≠ Ïãú 'ÏãúÏûëÌï¥Î≥ºÍπå?' -> Îã§Ïùå ÌÅ¥Î¶≠Î∂ÄÌÑ∞ Îã®Ïñ¥ Ï∂úÎ†•
        if (wordDisplay.textContent === "ÏãúÏûëÌï¥Î≥ºÍπå?") {
          wordDisplay.textContent = "";
          currentRoundWords = remainingIndexes.splice(0, selectedCount);
          currentIndex = 0;
          currentRound++;
          return;
        }

        // Îã®Ïñ¥ Îã§ Î≥¥Ïó¨Ï£ºÍ≥† Îã§Ïùå ÌÅ¥Î¶≠Ïóê Î¨∏Íµ¨ Ï∂úÎ†•ÌïòÎäî ÏÉÅÌÉúÏù∏ÏßÄ Ï≤¥ÌÅ¨
        if (currentIndex === currentRoundWords.length) {
          // "Îí§Ïóê ÎÅù.·êü" Î≥¥Ïó¨Ï£ºÍ∏∞
          wordDisplay.textContent = "Í≤åÏûÑ Ï¢ÖÎ£å!";
          currentIndex++; // Îã§Ïùå ÌÅ¥Î¶≠Ïóê Îã§Ïùå ÎùºÏö¥Îìú ÎÑòÏñ¥Í∞ÄÎèÑÎ°ù Ïù∏Îç±Ïä§ Ï¶ùÍ∞Ä
          return;
        }

        // Î¨∏Íµ¨ Îã§ Î≥¥Ïó¨Ï§Ä ÌõÑ Îã§Ïùå ÌÅ¥Î¶≠ Ïãú Îã§Ïùå ÎùºÏö¥Îìú Ï§ÄÎπÑ
        if (currentIndex === currentRoundWords.length + 1) {
          if (currentRound >= maxRounds || remainingIndexes.length === 0) {
            wordDisplay.textContent = "Í≤åÏûÑ Ï¢ÖÎ£å!";
            nextBtn.style.display = "none";
            restartBtn.style.display = "inline-block";
          } else {
            currentRoundWords = remainingIndexes.splice(0, selectedCount);
            currentIndex = 0;
            currentRound++;
            wordDisplay.textContent = "ÏãúÏûëÌï¥Î≥ºÍπå?";
          }
          return;
        }

        // Îã®Ïñ¥ Ï∂úÎ†•
        const word = wordList[currentRoundWords[currentIndex]];
        wordDisplay.textContent = word.slice(0, 2);
        currentIndex++;
      }

      function restartGame() {
        // selectedCount Ïú†ÏßÄ
        currentIndex = 0;
        currentRound = 0;

        remainingIndexes = [];
        for (let i = 0; i < wordList.length; i++) {
          remainingIndexes.push(i);
        }
        shuffleArray(remainingIndexes);

        currentRoundWords = [];
        wordDisplay.textContent = "ÏãúÏûëÌï¥Î≥ºÍπå?";
        numberButtons.style.display = "none";
        nextBtn.style.display = "inline-block";
        restartBtn.style.display = "none";
      }
    </script>
  </body>
</html>
